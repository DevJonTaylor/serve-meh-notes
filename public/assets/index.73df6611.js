var fe=Object.defineProperty;var ee=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable;var te=(l,e,s)=>e in l?fe(l,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[e]=s,W=(l,e)=>{for(var s in e||(e={}))ue.call(e,s)&&te(l,s,e[s]);if(ee)for(var s of ee(e))pe.call(e,s)&&te(l,s,e[s]);return l};import{d as he,w as D,S as R,i as z,s as K,e as _,a as k,b as h,n as U,t as E,c as $,f as m,l as x,g as B,h as T,r as X,j as N,k as V,o as Y,m as Z,p as se,q as ie,u as le,v as me,x as P,y as Q,z as I,A as q,B as G,C as _e,D as ge,E as be,F as ve}from"./vendor.4c648e97.js";const ye=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}};ye();const A=D([]),C=D([]),O=D({}),ke=he([A,C],([l,e],s)=>{const i=l.map(t=>{const n=W({},t),o=e.find(r=>r.id===n.id);return o?(n.isEdited=!0,n.title=o.title,n.text=o.text):n.isEdited=!1,n});s(i.sort((t,n)=>t.isEdited===n.isEdited?0:t.isEdited?-1:1))}),M=D(!1),H=D(""),J=D("");function Ee(l){let e,s,i,t,n,o,r,f,p,g,u;return{c(){e=_("nav"),s=_("a"),s.textContent="Note Taker",i=k(),t=_("div"),n=_("i"),o=k(),r=_("i"),f=k(),p=_("i"),h(s,"class","navbar-brand"),h(s,"href","/"),h(n,"class",""+(U(l[3]("redo"))+" svelte-t1l5kl")),E(n,"btn-disabled",l[0]),h(r,"class",""+(U(l[3]("save"))+" svelte-t1l5kl")),E(r,"btn-disabled",l[1]),h(p,"class",""+(U(l[3]("plus"))+" svelte-t1l5kl")),E(p,"btn-disabled",l[2]),h(t,"class","icons"),h(e,"class","navbar navbar-dark bg-dark")},m(a,v){$(a,e,v),m(e,s),m(e,i),m(e,t),m(t,n),m(t,o),m(t,r),m(t,f),m(t,p),g||(u=[x(n,"click",l[5]),x(r,"click",l[6]),x(p,"click",l[4])],g=!0)},p(a,[v]){v&1&&E(n,"btn-disabled",a[0]),v&2&&E(r,"btn-disabled",a[1]),v&4&&E(p,"btn-disabled",a[2])},i:B,o:B,d(a){a&&T(e),g=!1,X(u)}}}function Ne(l,e,s){let i,t,n,o,r;N(l,A,c=>s(10,i=c)),N(l,C,c=>s(11,t=c)),N(l,J,c=>s(12,n=c)),N(l,H,c=>s(13,o=c)),N(l,O,c=>s(14,r=c));const f=c=>`fas fa-${c} text-light fade show`;let p=!0,g=!0,u=!0,a=r,v=o,S=n;const d=()=>{a.id?(s(1,g=s(0,p=!a.isEdited)),s(2,u=!1)):(s(0,p=!0),s(1,g=!v||!S),s(2,u=!v&&!S))},b=()=>i.find(c=>c.id===a.id),L=()=>C.set(t.filter(c=>c.id!==a.id)),F=()=>C.set([...t,a]),j=()=>{if(!a.id)return;const c=b();a.isEdited?v===c.title&&(L(),a.isEdited=!1):v!==c.title&&(F(),a.isEdited=!0)},y=()=>{if(!a.id)return;const c=b();a.isEdited?v===c.title&&S===c.text&&(L(),a.isEdited=!1):S!==c.text&&(F(),a.isEdited=!0)};O.subscribe(c=>{a=c,d()}),H.subscribe(c=>{v=c,j(),d()}),J.subscribe(c=>{S=c,y(),d()});const w=()=>{a.id&&a.isEdited&&(a.title=v,a.text=S,C.set(t.map(c=>c.id===a.id?a:c))),O.set({})},ae=()=>{p||(L(),O.set(i.find(c=>c.id===a.id)))},ce=()=>{fetch("http://localhost:3001/api/notes/",{method:"post",body:JSON.stringify(a),headers:{"Content-Type":"application/json; charset=utf-8"}}).then(c=>c.json()).then(c=>{A.set(c),w()})},de=()=>{fetch(`http://localhost:3001/api/notes/${a.id}`,{method:"put",body:JSON.stringify(a),headers:{"Content-Type":"application/json; charset=utf-8"}}).then(c=>c.json()).then(c=>{L(),A.set(c),w(),M.set(!1)})};return[p,g,u,f,w,ae,()=>{g||(a.title=v,a.text=S,a.id?de():ce())}]}class Se extends R{constructor(e){super();z(this,e,Ne,Ee,K,{})}}function we(l){let e,s,i,t,n,o;return{c(){e=_("div"),s=_("input"),i=k(),t=_("textarea"),h(s,"class","note-title svelte-cb7ge4"),h(s,"placeholder","Note Title"),h(s,"maxlength","28"),h(s,"type","text"),h(t,"class","note-textarea svelte-cb7ge4"),h(t,"placeholder","Note noteText"),h(e,"class","col-8")},m(r,f){$(r,e,f),m(e,s),V(s,l[0]),m(e,i),m(e,t),V(t,l[1]),n||(o=[x(s,"input",l[2]),x(t,"input",l[3])],n=!0)},p(r,[f]){f&1&&s.value!==r[0]&&V(s,r[0]),f&2&&V(t,r[1])},i:B,o:B,d(r){r&&T(e),n=!1,X(o)}}}function $e(l,e,s){let i,t;N(l,H,f=>s(0,i=f)),N(l,J,f=>s(1,t=f));let n=O.subscribe(f=>{H.set(f.title),J.set(f.text)});Y(n);function o(){i=this.value,H.set(i)}function r(){t=this.value,J.set(t)}return[i,t,o,r]}class Te extends R{constructor(e){super();z(this,e,$e,we,K,{})}}function ne(l,e,s){const i=l.slice();return i[12]=e[s],i}function Le(l){let e,s=l[0],i=[];for(let t=0;t<s.length;t+=1)i[t]=oe(ne(l,s,t));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=le()},m(t,n){for(let o=0;o<i.length;o+=1)i[o].m(t,n);$(t,e,n)},p(t,n){if(n&15){s=t[0];let o;for(o=0;o<s.length;o+=1){const r=ne(t,s,o);i[o]?i[o].p(r,n):(i[o]=oe(r),i[o].c(),i[o].m(e.parentNode,e))}for(;o<i.length;o+=1)i[o].d(1);i.length=s.length}},d(t){me(i,t),t&&T(e)}}}function je(l){let e;return{c(){e=_("li"),e.innerHTML='<span class="list-item-title svelte-1gfyb8c">No Notes To List</span>',h(e,"class","list-group-item svelte-1gfyb8c")},m(s,i){$(s,e,i)},p:B,d(s){s&&T(e)}}}function oe(l){let e,s,i=l[12].title+"",t,n,o,r,f,p,g,u,a=l[12].updated+"",v,S,d,b;function L(){return l[4](l[12])}function F(){return l[5](l[12])}function j(...y){return l[6](l[12],...y)}return{c(){e=_("li"),s=_("h5"),t=Z(i),n=k(),o=_("i"),r=k(),f=_("i"),p=k(),g=_("span"),u=Z("Saved On: "),v=Z(a),S=k(),h(s,"class","list-item-title svelte-1gfyb8c"),h(o,"class","fas fa-save fade float-right save-note svelte-1gfyb8c"),E(o,"show",l[12].isEdited),h(f,"class","fas fa-trash-alt float-right text-danger delete-note svelte-1gfyb8c"),h(g,"class","list-item-date svelte-1gfyb8c"),h(e,"class","list-group-item svelte-1gfyb8c"),E(e,"text-white",l[12].isEdited),E(e,"bg-warning",l[12].isEdited)},m(y,w){$(y,e,w),m(e,s),m(s,t),m(e,n),m(e,o),m(e,r),m(e,f),m(e,p),m(e,g),m(g,u),m(g,v),m(e,S),d||(b=[x(o,"click",se(L)),x(f,"click",se(F)),x(e,"click",j)],d=!0)},p(y,w){l=y,w&1&&i!==(i=l[12].title+"")&&ie(t,i),w&1&&E(o,"show",l[12].isEdited),w&1&&a!==(a=l[12].updated+"")&&ie(v,a),w&1&&E(e,"text-white",l[12].isEdited),w&1&&E(e,"bg-warning",l[12].isEdited)},d(y){y&&T(e),d=!1,X(b)}}}function Ce(l){let e,s,i;function t(r,f){return r[0].length===0?je:Le}let n=t(l),o=n(l);return{c(){e=_("div"),s=_("div"),i=_("ul"),o.c(),h(i,"class","list-group svelte-1gfyb8c"),h(s,"class","card svelte-1gfyb8c"),h(e,"class","col-4 list-container svelte-1gfyb8c")},m(r,f){$(r,e,f),m(e,s),m(s,i),o.m(i,null)},p(r,[f]){n===(n=t(r))&&o?o.p(r,f):(o.d(1),o=n(r),o&&(o.c(),o.m(i,null)))},i:B,o:B,d(r){r&&T(e),o.d()}}}function Oe(l,e,s){let i,t,n,o;N(l,O,d=>s(7,i=d)),N(l,J,d=>s(8,t=d)),N(l,H,d=>s(9,n=d)),N(l,C,d=>s(10,o=d));let r;const f=ke.subscribe(d=>s(0,r=d)),p=(d,b)=>{if(b.isEdited&&d.target.classList.contains("save-note")||d.target.classList.contains("delete-note"))return;const L=b.id;if(i.id===L)return;const F=r.find(y=>y.id===L),j=W({},i);j.isEdited&&(j.title=n,j.text=t,C.set(o.map(y=>y.id!==j.id?y:j))),O.set(F),window.scrollTo(0,0),document.querySelector(".note-textarea").focus()},g=d=>{M.set(!0),d===i.id&&O.set({}),C.set(o.filter(b=>d!==b.id)),fetch(`http://localhost:3001/api/notes/${d}`,{method:"delete"}).then(b=>b.json()).then(b=>A.set(b)).then(()=>M.set(!1))},u=d=>{!d.isEdited||(C.set(o.filter(b=>b.id!==d.id)),M.set(!0),d.id===i.id&&(d.title=n,d.text=t),fetch(`http://localhost:3001/api/notes/${d.id}`,{method:"put",body:JSON.stringify(d),headers:{"Content-Type":"application/json; charset=utf-8"}}).then(b=>b.json()).then(b=>{A.set(b),d.id===i.id&&O.set({}),M.set(!1)}))};return Y(f),[r,p,g,u,d=>u(d),d=>g(d.id),(d,b)=>p(b,d)]}class Me extends R{constructor(e){super();z(this,e,Oe,Ce,K,{})}}function re(l){let e,s,i,t,n,o,r,f;return r=new be({props:{size:"100",color:"#18BC9C"}}),{c(){e=_("div"),s=_("div"),i=_("div"),t=_("div"),t.innerHTML='<h5 class="modal-title">TALKING WITH SERVER</h5>',n=k(),o=_("div"),P(r.$$.fragment),h(t,"class","modal-header"),h(o,"class","modal-body svelte-1640tkq"),h(i,"class","modal-content"),h(s,"class","modal-dialog modal-dialog-centered"),h(e,"class","modal fade show"),h(e,"id","loading"),h(e,"tabindex","-1")},m(p,g){$(p,e,g),m(e,s),m(s,i),m(i,t),m(i,n),m(i,o),Q(r,o,null),f=!0},i(p){f||(I(r.$$.fragment,p),f=!0)},o(p){q(r.$$.fragment,p),f=!1},d(p){p&&T(e),G(r)}}}function xe(l){let e,s,i=l[0]&&re();return{c(){i&&i.c(),e=le()},m(t,n){i&&i.m(t,n),$(t,e,n),s=!0},p(t,[n]){t[0]?i?n&1&&I(i,1):(i=re(),i.c(),I(i,1),i.m(e.parentNode,e)):i&&(_e(),q(i,1,1,()=>{i=null}),ge())},i(t){s||(I(i),s=!0)},o(t){q(i),s=!1},d(t){i&&i.d(t),t&&T(e)}}}function Be(){jQuery("#loading").modal({backdrop:!1,keyboard:!1})}function Ie(){jQuery("#loading").modal("hide")}function qe(l,e,s){let i;N(l,M,n=>s(0,i=n));const t=M.subscribe(n=>{n?Be():Ie()});return Y(t),[i]}class Ae extends R{constructor(e){super();z(this,e,qe,xe,K,{})}}function Fe(l){let e,s,i,t,n,o,r,f,p,g;return e=new Se({}),n=new Me({}),r=new Te({}),p=new Ae({}),{c(){P(e.$$.fragment),s=k(),i=_("main"),t=_("div"),P(n.$$.fragment),o=k(),P(r.$$.fragment),f=k(),P(p.$$.fragment),h(t,"class","row"),h(i,"class","container-fluid")},m(u,a){Q(e,u,a),$(u,s,a),$(u,i,a),m(i,t),Q(n,t,null),m(t,o),Q(r,t,null),$(u,f,a),Q(p,u,a),g=!0},p:B,i(u){g||(I(e.$$.fragment,u),I(n.$$.fragment,u),I(r.$$.fragment,u),I(p.$$.fragment,u),g=!0)},o(u){q(e.$$.fragment,u),q(n.$$.fragment,u),q(r.$$.fragment,u),q(p.$$.fragment,u),g=!1},d(u){G(e,u),u&&T(s),u&&T(i),G(n),G(r),u&&T(f),G(p,u)}}}function De(l){return ve(()=>{M.set(!0),fetch("http://localhost:3001/api/notes").then(e=>e.json()).then(e=>A.set(e)).then(()=>M.set(!1))}),[]}class He extends R{constructor(e){super();z(this,e,De,Fe,K,{})}}new He({target:document.getElementById("app")});
