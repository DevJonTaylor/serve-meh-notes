var ue=Object.defineProperty;var te=Object.getOwnPropertySymbols;var pe=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable;var se=(n,e,s)=>e in n?ue(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s,U=(n,e)=>{for(var s in e||(e={}))pe.call(e,s)&&se(n,s,e[s]);if(te)for(var s of te(e))me.call(e,s)&&se(n,s,e[s]);return n};import{d as _e,w as D,S as R,i as z,s as K,e as h,a as k,b as m,n as X,t as E,c as $,f as _,l as O,g as M,h as T,r as Y,j as N,k as V,o as Z,m as ee,p as ie,q as ne,u as le,v as he,x as P,y as Q,z as B,A as I,B as G,C as ge,D as be,E as ve,F as ye}from"./vendor.4c648e97.js";const ke=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function s(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerpolicy&&(l.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?l.credentials="include":t.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(t){if(t.ep)return;t.ep=!0;const l=s(t);fetch(t.href,l)}};ke();const W="/api/notes/",A=D([]),C=D([]),x=D({}),Ee=_e([A,C],([n,e],s)=>{const i=n.map(t=>{const l=U({},t),r=e.find(o=>o.id===l.id);return r?(l.isEdited=!0,l.title=r.title,l.text=r.text):l.isEdited=!1,l});s(i.sort((t,l)=>t.isEdited===l.isEdited?0:t.isEdited?-1:1))}),q=D(!1),H=D(""),J=D("");function Ne(n){let e,s,i,t,l,r,o,f,p,g,u;return{c(){e=h("nav"),s=h("a"),s.textContent="Note Taker",i=k(),t=h("div"),l=h("i"),r=k(),o=h("i"),f=k(),p=h("i"),m(s,"class","navbar-brand"),m(s,"href","/"),m(l,"class",""+(X(n[3]("redo"))+" svelte-1xu2uqr")),E(l,"btn-disabled",n[0]),m(o,"class",""+(X(n[3]("save"))+" svelte-1xu2uqr")),E(o,"btn-disabled",n[1]),m(p,"class",""+(X(n[3]("plus"))+" svelte-1xu2uqr")),E(p,"btn-disabled",n[2]),m(t,"class","icons svelte-1xu2uqr"),m(e,"class","navbar navbar-dark bg-dark")},m(a,v){$(a,e,v),_(e,s),_(e,i),_(e,t),_(t,l),_(t,r),_(t,o),_(t,f),_(t,p),g||(u=[O(l,"click",n[5]),O(o,"click",n[6]),O(p,"click",n[4])],g=!0)},p(a,[v]){v&1&&E(l,"btn-disabled",a[0]),v&2&&E(o,"btn-disabled",a[1]),v&4&&E(p,"btn-disabled",a[2])},i:M,o:M,d(a){a&&T(e),g=!1,Y(u)}}}function Se(n,e,s){let i,t,l,r,o;N(n,A,c=>s(10,i=c)),N(n,C,c=>s(11,t=c)),N(n,J,c=>s(12,l=c)),N(n,H,c=>s(13,r=c)),N(n,x,c=>s(14,o=c));const f=c=>`fas fa-${c} text-light fade show`;let p=!0,g=!0,u=!0,a=o,v=r,S=l;const d=()=>{a.id?(s(1,g=s(0,p=!a.isEdited)),s(2,u=!1)):(s(0,p=!0),s(1,g=!v||!S),s(2,u=!v&&!S))},b=()=>i.find(c=>c.id===a.id),L=()=>C.set(t.filter(c=>c.id!==a.id)),F=()=>C.set([...t,a]),j=()=>{if(!a.id)return;const c=b();a.isEdited?v===c.title&&(L(),a.isEdited=!1):v!==c.title&&(F(),a.isEdited=!0)},y=()=>{if(!a.id)return;const c=b();a.isEdited?v===c.title&&S===c.text&&(L(),a.isEdited=!1):S!==c.text&&(F(),a.isEdited=!0)};x.subscribe(c=>{a=c,d()}),H.subscribe(c=>{v=c,j(),d()}),J.subscribe(c=>{S=c,y(),d()});const w=()=>{a.id&&a.isEdited&&(a.title=v,a.text=S,C.set(t.map(c=>c.id===a.id?a:c))),x.set({})},ce=()=>{p||(L(),x.set(i.find(c=>c.id===a.id)))},de=()=>{fetch(W,{method:"post",body:JSON.stringify(a),headers:{"Content-Type":"application/json; charset=utf-8"}}).then(c=>c.json()).then(c=>{A.set(c),w()})},fe=()=>{fetch(`${W}${a.id}`,{method:"put",body:JSON.stringify(a),headers:{"Content-Type":"application/json; charset=utf-8"}}).then(c=>c.json()).then(c=>{L(),A.set(c),w(),q.set(!1)})};return[p,g,u,f,w,ce,()=>{g||(a.title=v,a.text=S,a.id?fe():de())}]}class we extends R{constructor(e){super();z(this,e,Se,Ne,K,{})}}function $e(n){let e,s,i,t,l,r;return{c(){e=h("div"),s=h("input"),i=k(),t=h("textarea"),m(s,"class","note-title svelte-cb7ge4"),m(s,"placeholder","Note Title"),m(s,"maxlength","28"),m(s,"type","text"),m(t,"class","note-textarea svelte-cb7ge4"),m(t,"placeholder","Note noteText"),m(e,"class","col-8")},m(o,f){$(o,e,f),_(e,s),V(s,n[0]),_(e,i),_(e,t),V(t,n[1]),l||(r=[O(s,"input",n[2]),O(t,"input",n[3])],l=!0)},p(o,[f]){f&1&&s.value!==o[0]&&V(s,o[0]),f&2&&V(t,o[1])},i:M,o:M,d(o){o&&T(e),l=!1,Y(r)}}}function Te(n,e,s){let i,t;N(n,H,f=>s(0,i=f)),N(n,J,f=>s(1,t=f));let l=x.subscribe(f=>{H.set(f.title),J.set(f.text)});Z(l);function r(){i=this.value,H.set(i)}function o(){t=this.value,J.set(t)}return[i,t,r,o]}class Le extends R{constructor(e){super();z(this,e,Te,$e,K,{})}}function re(n,e,s){const i=n.slice();return i[12]=e[s],i}function je(n){let e,s=n[0],i=[];for(let t=0;t<s.length;t+=1)i[t]=oe(re(n,s,t));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=le()},m(t,l){for(let r=0;r<i.length;r+=1)i[r].m(t,l);$(t,e,l)},p(t,l){if(l&15){s=t[0];let r;for(r=0;r<s.length;r+=1){const o=re(t,s,r);i[r]?i[r].p(o,l):(i[r]=oe(o),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=s.length}},d(t){he(i,t),t&&T(e)}}}function Ce(n){let e;return{c(){e=h("li"),e.innerHTML='<span class="list-item-title svelte-1gfyb8c">No Notes To List</span>',m(e,"class","list-group-item svelte-1gfyb8c")},m(s,i){$(s,e,i)},p:M,d(s){s&&T(e)}}}function oe(n){let e,s,i=n[12].title+"",t,l,r,o,f,p,g,u,a=n[12].updated+"",v,S,d,b;function L(){return n[4](n[12])}function F(){return n[5](n[12])}function j(...y){return n[6](n[12],...y)}return{c(){e=h("li"),s=h("h5"),t=ee(i),l=k(),r=h("i"),o=k(),f=h("i"),p=k(),g=h("span"),u=ee("Saved On: "),v=ee(a),S=k(),m(s,"class","list-item-title svelte-1gfyb8c"),m(r,"class","fas fa-save fade float-right save-note svelte-1gfyb8c"),E(r,"show",n[12].isEdited),m(f,"class","fas fa-trash-alt float-right text-danger delete-note svelte-1gfyb8c"),m(g,"class","list-item-date svelte-1gfyb8c"),m(e,"class","list-group-item svelte-1gfyb8c"),E(e,"text-white",n[12].isEdited),E(e,"bg-warning",n[12].isEdited)},m(y,w){$(y,e,w),_(e,s),_(s,t),_(e,l),_(e,r),_(e,o),_(e,f),_(e,p),_(e,g),_(g,u),_(g,v),_(e,S),d||(b=[O(r,"click",ie(L)),O(f,"click",ie(F)),O(e,"click",j)],d=!0)},p(y,w){n=y,w&1&&i!==(i=n[12].title+"")&&ne(t,i),w&1&&E(r,"show",n[12].isEdited),w&1&&a!==(a=n[12].updated+"")&&ne(v,a),w&1&&E(e,"text-white",n[12].isEdited),w&1&&E(e,"bg-warning",n[12].isEdited)},d(y){y&&T(e),d=!1,Y(b)}}}function xe(n){let e,s,i;function t(o,f){return o[0].length===0?Ce:je}let l=t(n),r=l(n);return{c(){e=h("div"),s=h("div"),i=h("ul"),r.c(),m(i,"class","list-group svelte-1gfyb8c"),m(s,"class","card svelte-1gfyb8c"),m(e,"class","col-4 list-container svelte-1gfyb8c")},m(o,f){$(o,e,f),_(e,s),_(s,i),r.m(i,null)},p(o,[f]){l===(l=t(o))&&r?r.p(o,f):(r.d(1),r=l(o),r&&(r.c(),r.m(i,null)))},i:M,o:M,d(o){o&&T(e),r.d()}}}function qe(n,e,s){let i,t,l,r;N(n,x,d=>s(7,i=d)),N(n,J,d=>s(8,t=d)),N(n,H,d=>s(9,l=d)),N(n,C,d=>s(10,r=d));let o;const f=Ee.subscribe(d=>s(0,o=d)),p=(d,b)=>{if(b.isEdited&&d.target.classList.contains("save-note")||d.target.classList.contains("delete-note"))return;const L=b.id;if(i.id===L)return;const F=o.find(y=>y.id===L),j=U({},i);j.isEdited&&(j.title=l,j.text=t,C.set(r.map(y=>y.id!==j.id?y:j))),x.set(F),window.scrollTo(0,0),document.querySelector(".note-textarea").focus()},g=d=>{q.set(!0),d===i.id&&x.set({}),C.set(r.filter(b=>d!==b.id)),fetch(`${W}${d}`,{method:"delete"}).then(b=>b.json()).then(b=>A.set(b)).then(()=>q.set(!1))},u=d=>{!d.isEdited||(C.set(r.filter(b=>b.id!==d.id)),q.set(!0),d.id===i.id&&(d.title=l,d.text=t),fetch(`http://localhost:3001/api/notes/${d.id}`,{method:"put",body:JSON.stringify(d),headers:{"Content-Type":"application/json; charset=utf-8"}}).then(b=>b.json()).then(b=>{A.set(b),d.id===i.id&&x.set({}),q.set(!1)}))};return Z(f),[o,p,g,u,d=>u(d),d=>g(d.id),(d,b)=>p(b,d)]}class Oe extends R{constructor(e){super();z(this,e,qe,xe,K,{})}}function ae(n){let e,s,i,t,l,r,o,f;return o=new ve({props:{size:"100",color:"#18BC9C"}}),{c(){e=h("div"),s=h("div"),i=h("div"),t=h("div"),t.innerHTML='<h5 class="modal-title">TALKING WITH SERVER</h5>',l=k(),r=h("div"),P(o.$$.fragment),m(t,"class","modal-header"),m(r,"class","modal-body svelte-1640tkq"),m(i,"class","modal-content"),m(s,"class","modal-dialog modal-dialog-centered"),m(e,"class","modal fade show"),m(e,"id","loading"),m(e,"tabindex","-1")},m(p,g){$(p,e,g),_(e,s),_(s,i),_(i,t),_(i,l),_(i,r),Q(o,r,null),f=!0},i(p){f||(B(o.$$.fragment,p),f=!0)},o(p){I(o.$$.fragment,p),f=!1},d(p){p&&T(e),G(o)}}}function Me(n){let e,s,i=n[0]&&ae();return{c(){i&&i.c(),e=le()},m(t,l){i&&i.m(t,l),$(t,e,l),s=!0},p(t,[l]){t[0]?i?l&1&&B(i,1):(i=ae(),i.c(),B(i,1),i.m(e.parentNode,e)):i&&(ge(),I(i,1,1,()=>{i=null}),be())},i(t){s||(B(i),s=!0)},o(t){I(i),s=!1},d(t){i&&i.d(t),t&&T(e)}}}function Be(){jQuery("#loading").modal({backdrop:!1,keyboard:!1})}function Ie(){jQuery("#loading").modal("hide")}function Ae(n,e,s){let i;N(n,q,l=>s(0,i=l));const t=q.subscribe(l=>{l?Be():Ie()});return Z(t),[i]}class Fe extends R{constructor(e){super();z(this,e,Ae,Me,K,{})}}function De(n){let e,s,i,t,l,r,o,f,p,g;return e=new we({}),l=new Oe({}),o=new Le({}),p=new Fe({}),{c(){P(e.$$.fragment),s=k(),i=h("main"),t=h("div"),P(l.$$.fragment),r=k(),P(o.$$.fragment),f=k(),P(p.$$.fragment),m(t,"class","row"),m(i,"class","container-fluid")},m(u,a){Q(e,u,a),$(u,s,a),$(u,i,a),_(i,t),Q(l,t,null),_(t,r),Q(o,t,null),$(u,f,a),Q(p,u,a),g=!0},p:M,i(u){g||(B(e.$$.fragment,u),B(l.$$.fragment,u),B(o.$$.fragment,u),B(p.$$.fragment,u),g=!0)},o(u){I(e.$$.fragment,u),I(l.$$.fragment,u),I(o.$$.fragment,u),I(p.$$.fragment,u),g=!1},d(u){G(e,u),u&&T(s),u&&T(i),G(l),G(o),u&&T(f),G(p,u)}}}function He(n){return ye(()=>{q.set(!0),fetch(W).then(e=>e.json()).then(e=>A.set(e)).then(()=>q.set(!1))}),[]}class Je extends R{constructor(e){super();z(this,e,He,De,K,{})}}new Je({target:document.getElementById("app")});
